print((lambda re, grid: (lambda m, a: [[m.__setitem__(key, m.get(key, []) + [val]) for key, val in a], sum(array[0] * array[1] for array in m.values() if len(array) == 2)][1])({}, sum(([((cr, cc), int(match.group())) for match in re.finditer("\\d+", row) for cr in [r - 1, r, r + 1] for cc in range(match.start() - 1, match.end() + 1) if 0 <= cr < len(grid) and 0 <= cc < len(grid[cr]) and grid[cr][cc] == "*"] for r, row in enumerate(grid)), [])))(__import__("re"), open(0).read().splitlines()))
